{% extends "base_template.html" %}
{% from "_render_elements.html" import render_input %}

{% block title %}
    Groma | Alta de gestiones
{% endblock %}

{% block content %}

<div class="row">
    <div class="offset-md-2 col-md-8">
        <h1>Nueva gestión</h1>
        <form action="" method="post" class="form-horizontal" enctype="multipart/form-data" novalidate>
            {{ form.hidden_tag() }}

            <div class="form-group">
                {{ render_input(form.id_titular, '', id="id_titular", class="form-control", placeholder="Busque el nombre del titular", list="clientes", onkeypress="return evitarCaracter(event, '|');" ) }}
            </div>
            <button type="button" class="btn btn-primary" data-toggle="collapse" data-target="#campoOculto">
                Crear titular
            </button>
              
            <div id="campoOculto" class="collapse">
                <div class="form-group">
                    {{ render_input(form.descripcion_nombre, '', id="descripcion_nombre", class="form-control", placeholder="Ingrese el nombre o Razon social del titular") }}
                </div>
                <div class="form-group">
                    {{ render_input(form.cuit, '', id="cuit", class="form-control", placeholder="Ingrese el CUIT del titular")}}
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        {{ render_input(form.ubicacion_gestion, '', id="ubicacion_gestion", class="form-control", placeholder="Ingrese la ubicación del bien") }}
                    </div>

                    <div class="form-group">
                        {{ render_input(form.id_tipo_bienes, '', id="id_tipo_bienes", class="form-control") }}
                    </div>
                    <div class="form-group">
                        {{ render_input(form.fecha_inicio_gestion, '', id="fecha_inicio_gestion", class="form-control", type="date") }}
                    </div>
                     
                    <div class="form-group">
                        {{ render_input(form.fecha_probable_medicion,'', id= "fecha_probable_medicion" , class="form-control", type="date"  ) }}
                    </div>
                    
                </div>
                <div class="col-md-6">
                   
                    <div class="form-group">
                        {{ render_input(form.id_tipo_gestion,'', id= "id_tipo_gestion" , class="form-control") }}
                    </div>
                    
                    <div class="form-group">
                        {{ render_input(form.id_dibujante,'', id= "id_dibujante" , class="form-control", placeholder="Ingrese el nombre del dibujante", list="clientes", onkeypress="return evitarCaracter(event, '|');" ) }}
                    </div>
                    
                    <div class="form-group">
                        {{ render_input(form.estado_parcelario,'', id= "estado_parcelario" , class="form-control", placeholder="Ingrese el estado parcelario") }}
                    </div>
                    
                    <div class="form-group">
                        {{ render_input(form.numero_partida,'', id= "numero_partida" , class="form-control", placeholder="Ingrese el número de partida") }}
                    </div>

                    
                </div>
            </div>

            <div class="form-group">
                {{ render_input(form.observacion, '', id="observacion", class="form-control", placeholder="Ingrese una observación") }}
            </div>

            <datalist id="clientes">
                {% for cliente in clientes %}
                <option  value="{{[cliente.id, cliente.descripcion_nombre, cliente.cuit]|join('|')}}">
                {% endfor %}
            </datalist>

            <button type="submit" class="btn btn-primary">Guardar</button>
        </form>
    </div>
</div>

{% endblock %}